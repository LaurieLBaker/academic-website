---
title: 'Creating the where I work leaflet map'
author: "Laurie Baker"
date: '2020-11-02T21:13:14-05:00'
categories: R
tags:
- R Markdown
- leaflet
- hugo
header:
  image: "leaflet_map.PNG"
  caption: "Map of world"
  peview_only: "leaflet_map.PNG"
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>
<script src="{{< blogdown/postref >}}index_files/htmlwidgets/htmlwidgets.js"></script>
<script src="{{< blogdown/postref >}}index_files/jquery/jquery.min.js"></script>
<link href="{{< blogdown/postref >}}index_files/leaflet/leaflet.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/leaflet/leaflet.js"></script>
<link href="{{< blogdown/postref >}}index_files/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/proj4/proj4.min.js"></script>
<script src="{{< blogdown/postref >}}index_files/Proj4Leaflet/proj4leaflet.js"></script>
<link href="{{< blogdown/postref >}}index_files/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/leaflet-binding/leaflet.js"></script>
<script src="{{< blogdown/postref >}}index_files/leaflet-providers/leaflet-providers_1.9.0.js"></script>
<script src="{{< blogdown/postref >}}index_files/leaflet-providers-plugin/leaflet-providers-plugin.js"></script>
<link href="{{< blogdown/postref >}}index_files/leaflet-awesomemarkers/leaflet.awesome-markers.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/leaflet-awesomemarkers/leaflet.awesome-markers.min.js"></script>
<link href="{{< blogdown/postref >}}index_files/bootstrap/bootstrap.min.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index_files/bootstrap/bootstrap.min.js"></script>


<p>In this post I’ll describe how I created my “Where I work” map using <code>leaflet</code> and how to include it in the hugo academic theme as an iframe.</p>
<iframe seamless width="100%" height="500" class="shortcode-iframe" src="/leaflet/work_map.html">
</iframe>
<div id="loading-libraries" class="section level2">
<h2>Loading libraries</h2>
<p>To create the interactive map I used the following libraries. Note that the library <code>fontawesome</code> is installed using devtools from github.</p>
<pre class="r"><code>
#devtools::install_github(&quot;rstudio/fontawesome&quot;)
library(leaflet)
library(htmltools)
library(fontawesome)
## Warning: package &#39;fontawesome&#39; was built under R version 4.1.3
library(htmlwidgets)
</code></pre>
</div>
<div id="creating-the-data-frame." class="section level2">
<h2>Creating the data frame.</h2>
<p>I created a <code>work</code> data frame containing details of the latitude and longitude of locations where I’ve worked. I added a column link where I included html links to different parts of my website. The format is: <code>"&lt;b&gt;&lt;a href='https://LINK.com'&gt;Link Name&lt;/a&gt;&lt;/b&gt;"</code></p>
<pre class="r"><code>
head(work)
##                    location
## 1         Valparaíso, Chile
## 2          Curitiba, Brasil
## 3 Sable Island, Nova Scotia
## 4       Greifswald, Germany
## 5          Arusha, Tanzania
## 6            Kigali, Rwanda
##                                                    institute
## 1                              Instituto de Fomento Pesquero
## 2                             Universidade Federal do Paraná
## 3                                       Dalhousie University
## 4                                Friedrich Loeffler Institut
## 5 Nelson Mandela African Institute of Science and Technology
## 6                    National Institute of Statistics Rwanda
##                    work      lat      lon
## 1 Chilean Pink Cusk Eel -33.0472 -71.6127
## 2            Fox rabies -25.4290 -49.2671
## 3            Grey seals  43.9337 -59.9149
## 4            Fox rabies  54.0865  13.3923
## 5              Teaching  -3.3995  36.7968
## 6              Teaching  -1.9415  30.0574
##                                                                                          link
## 1            &lt;b&gt;&lt;a href=&#39;http://lauriebaker.rbind.io/#projects&#39;&gt;Chilean Pink-cusk eel&lt;/a&gt;&lt;/b&gt;
## 2 &lt;b&gt;&lt;a href=&#39;http://lauriebaker.rbind.io/project/internal-project/&#39;&gt;Outfoxing Rabies&lt;/a&gt;&lt;/b&gt;
## 3          &lt;b&gt;&lt;a href=&#39;http://lauriebaker.rbind.io/#projects&#39;&gt;Grey Seals as Bioprobes&lt;/a&gt;&lt;/b&gt;
## 4 &lt;b&gt;&lt;a href=&#39;http://lauriebaker.rbind.io/project/internal-project/&#39;&gt;Outfoxing Rabies&lt;/a&gt;&lt;/b&gt;
## 5                        &lt;b&gt;&lt;a href=&#39;http://lauriebaker.rbind.io/courses/&#39;&gt;R Training&lt;/a&gt;&lt;/b&gt;
## 6                        &lt;b&gt;&lt;a href=&#39;http://lauriebaker.rbind.io/courses/&#39;&gt;R Training&lt;/a&gt;&lt;/b&gt;
##       icon
## 1     fish
## 2  disease
## 3      gps
## 4  disease
## 5 training
## 6 training</code></pre>
</div>
<div id="creating-the-labels" class="section level2">
<h2>Creating the labels</h2>
<p>Next, I created the labels and icons to use on the map. I wanted to include a label including the institute where the work was carried out and also a link to the relevant page on my website. To do this I used the function <code>sprintf()</code> and pointed to the relevant columns in my data <code>institute</code>, <code>link</code>.</p>
<p>There is some additional styling added using <code>&lt;strong&gt;</code> for bold and <code>&lt;br/&gt;</code> to create a break so the the Project information is on the next line.</p>
<pre class="r"><code>
labels &lt;- sprintf(
  &quot;&lt;strong&gt;%s&lt;/strong&gt;&lt;br/&gt;Project: %s&quot;,
  work$institute, work$link
) %&gt;% lapply(htmltools::HTML)</code></pre>
</div>
<div id="creating-the-icons-using-awesomeiconlist" class="section level2">
<h2>Creating the icons using <code>awesomeIconList</code></h2>
<p>I wanted to distinguish the different types of projects on the map (using symbols for my projects relating to dish, fish , and gps satellite tracking) and also I wanted to highlight the R training sessions I’ve run. I used different icons from the <code>fontawesome</code> package and used the argument <code>markerColor</code> to distinguish between training sessions and projects.</p>
<p>If you prefer to use the standard marker color you can skip the argument for <code>markerColor</code> as shown for <code>iconset1</code>.</p>
<pre class="r"><code>
iconset1 &lt;- awesomeIconList(
   fish = makeAwesomeIcon(text = fa(&quot;fish&quot;)),
   gps = makeAwesomeIcon(text = fa(&quot;satellite&quot;)),
   disease = makeAwesomeIcon(text = fa(&quot;syringe&quot;)),
   training = makeAwesomeIcon(text = fa(&quot;r-project&quot;))
)

iconset2 &lt;- awesomeIconList(
   fish = makeAwesomeIcon(text = fa(&quot;fish&quot;), markerColor = &quot;green&quot;),
   gps = makeAwesomeIcon(text = fa(&quot;satellite&quot;), markerColor = &quot;green&quot;),
   disease = makeAwesomeIcon(text = fa(&quot;syringe&quot;), markerColor = &quot;green&quot;),
   training = makeAwesomeIcon(text = fa(&quot;r-project&quot;), markerColor = &quot;purple&quot;)
)
</code></pre>
</div>
<div id="creating-the-leaflet-map" class="section level1">
<h1>Creating the leaflet map</h1>
<p>For the leaflet map I first specified my dataset <code>leaflet(work)</code> and then added the <code>Stamen.Watercolor</code> and <code>Stame.TerrainLabels</code> provider tiles using <code>addProvideTiles</code>.</p>
<p>To explore the different options available you can type <code>providers$</code> + TAB and scroll through the different layers. The next layer to be added is the markers using <code>addAwesomeMarkers</code> their location is set by the <code>lon</code> and <code>lat</code> columns of the dataset work.</p>
<p>The correct icon is added by specifying the column <code>icon</code> within <code>iconset2[icon]</code>. These match the icons defined so that when the <code>icon</code> is “fish” this is effectively <code>iconset2["fish"]</code> the marker defined as <code>fish</code> is used.</p>
<p>Lastly I specify the popup as my predefined labels, which take the <code>institute</code> and <code>link</code> specified in my dataset.</p>
<pre class="r"><code>

(work_map &lt;- leaflet(work) %&gt;% 
              addProviderTiles(providers$Stamen.Watercolor) %&gt;%
              addProviderTiles(providers$Stamen.TerrainLabels) %&gt;%
              addAwesomeMarkers(~lon, ~lat, icon = ~iconset2[icon], popup = ~labels))</code></pre>
<div class="figure"><span style="display:block;" id="fig:map"></span>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Stamen.Watercolor",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["Stamen.TerrainLabels",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addAwesomeMarkers","args":[[-33.0472,-25.429,43.9337,54.0865,-3.3995,-1.9415,18.0179,-25.2637,55.760869],[-71.6127,-49.2671,-59.9149,13.3923,36.7968,30.0574,-76.8099,-57.5759,-4.22407],{"icon":"home","markerColor":["green","green","green","green","purple","purple","purple","purple","purple"],"iconColor":"white","spin":false,"squareMarker":false,"iconRotate":0,"text":["<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 576 512\" style=\"height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M180.5 141.5C219.7 108.5 272.6 80 336 80C399.4 80 452.3 108.5 491.5 141.5C530.5 174.5 558.3 213.1 572.4 241.3C577.2 250.5 577.2 261.5 572.4 270.7C558.3 298 530.5 337.5 491.5 370.5C452.3 403.5 399.4 432 336 432C272.6 432 219.7 403.5 180.5 370.5C164.3 356.7 150 341.9 137.8 327.3L48.12 379.6C35.61 386.9 19.76 384.9 9.474 374.7C-.8133 364.5-2.97 348.7 4.216 336.1L50 256L4.216 175.9C-2.97 163.3-.8133 147.5 9.474 137.3C19.76 127.1 35.61 125.1 48.12 132.4L137.8 184.7C150 170.1 164.3 155.3 180.5 141.5L180.5 141.5zM416 224C398.3 224 384 238.3 384 256C384 273.7 398.3 288 416 288C433.7 288 448 273.7 448 256C448 238.3 433.7 224 416 224z\"/><\/svg>","<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 512 512\" style=\"height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M504.1 71.03l-64-64c-9.375-9.375-24.56-9.375-33.94 0s-9.375 24.56 0 33.94L422.1 56L384 94.06l-55.03-55.03c-9.375-9.375-24.56-9.375-33.94 0c-8.467 8.467-8.873 21.47-2.047 30.86l149.1 149.1C446.3 222.1 451.1 224 456 224c6.141 0 12.28-2.344 16.97-7.031c9.375-9.375 9.375-24.56 0-33.94L417.9 128L456 89.94l15.03 15.03C475.7 109.7 481.9 112 488 112s12.28-2.344 16.97-7.031C514.3 95.59 514.3 80.41 504.1 71.03zM208.8 154.1l58.56 58.56c6.25 6.25 6.25 16.38 0 22.62C264.2 238.4 260.1 240 256 240S247.8 238.4 244.7 235.3L186.1 176.8L144.8 218.1l58.56 58.56c6.25 6.25 6.25 16.38 0 22.62C200.2 302.4 196.1 304 192 304S183.8 302.4 180.7 299.3L122.1 240.8L82.75 280.1C70.74 292.1 64 308.4 64 325.4v88.68l-56.97 56.97c-9.375 9.375-9.375 24.56 0 33.94C11.72 509.7 17.86 512 24 512s12.28-2.344 16.97-7.031L97.94 448h88.69c16.97 0 33.25-6.744 45.26-18.75l187.6-187.6l-149.1-149.1L208.8 154.1z\"/><\/svg>","<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 512 512\" style=\"height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M502.8 264.1l-80.37-80.37l47.87-47.88c13-13.12 13-34.37 0-47.5l-47.5-47.5c-13.12-13.12-34.38-13.12-47.5 0l-47.88 47.88L247.1 9.25C241 3.375 232.9 0 224.5 0c-8.5 0-16.62 3.375-22.5 9.25l-96.75 96.75c-12.38 12.5-12.38 32.62 0 45.12L185.5 231.5L175.8 241.4c-54-24.5-116.3-22.5-168.5 5.375c-8.498 4.625-9.623 16.38-2.873 23.25l107.6 107.5l-17.88 17.75c-2.625-.75-5-1.625-7.75-1.625c-17.75 0-32 14.38-32 32c0 17.75 14.25 32 32 32c17.62 0 32-14.25 32-32c0-2.75-.875-5.125-1.625-7.75l17.75-17.88l107.6 107.6c6.75 6.75 18.62 5.625 23.12-2.875c27.88-52.25 29.88-114.5 5.375-168.5l10-9.873l80.25 80.36c12.5 12.38 32.62 12.38 44.1 0l96.75-96.75C508.6 304.1 512 295.1 512 287.5C512 279.1 508.6 270.1 502.8 264.1zM219.5 197.4L150.6 128.5l73.87-73.75l68.86 68.88L219.5 197.4zM383.5 361.4L314.6 292.5l73.75-73.88l68.88 68.87L383.5 361.4z\"/><\/svg>","<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 512 512\" style=\"height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M504.1 71.03l-64-64c-9.375-9.375-24.56-9.375-33.94 0s-9.375 24.56 0 33.94L422.1 56L384 94.06l-55.03-55.03c-9.375-9.375-24.56-9.375-33.94 0c-8.467 8.467-8.873 21.47-2.047 30.86l149.1 149.1C446.3 222.1 451.1 224 456 224c6.141 0 12.28-2.344 16.97-7.031c9.375-9.375 9.375-24.56 0-33.94L417.9 128L456 89.94l15.03 15.03C475.7 109.7 481.9 112 488 112s12.28-2.344 16.97-7.031C514.3 95.59 514.3 80.41 504.1 71.03zM208.8 154.1l58.56 58.56c6.25 6.25 6.25 16.38 0 22.62C264.2 238.4 260.1 240 256 240S247.8 238.4 244.7 235.3L186.1 176.8L144.8 218.1l58.56 58.56c6.25 6.25 6.25 16.38 0 22.62C200.2 302.4 196.1 304 192 304S183.8 302.4 180.7 299.3L122.1 240.8L82.75 280.1C70.74 292.1 64 308.4 64 325.4v88.68l-56.97 56.97c-9.375 9.375-9.375 24.56 0 33.94C11.72 509.7 17.86 512 24 512s12.28-2.344 16.97-7.031L97.94 448h88.69c16.97 0 33.25-6.744 45.26-18.75l187.6-187.6l-149.1-149.1L208.8 154.1z\"/><\/svg>","<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 581 512\" style=\"height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/><\/svg>","<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 581 512\" style=\"height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/><\/svg>","<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 581 512\" style=\"height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/><\/svg>","<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 581 512\" style=\"height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/><\/svg>","<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 581 512\" style=\"height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/><\/svg>"],"prefix":"glyphicon"},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["<strong>Instituto de Fomento Pesquero<\/strong><br/>Project: <b><a href='http://lauriebaker.rbind.io/#projects'>Chilean Pink-cusk eel<\/a><\/b>","<strong>Universidade Federal do Paraná<\/strong><br/>Project: <b><a href='http://lauriebaker.rbind.io/project/internal-project/'>Outfoxing Rabies<\/a><\/b>","<strong>Dalhousie University<\/strong><br/>Project: <b><a href='http://lauriebaker.rbind.io/#projects'>Grey Seals as Bioprobes<\/a><\/b>","<strong>Friedrich Loeffler Institut<\/strong><br/>Project: <b><a href='http://lauriebaker.rbind.io/project/internal-project/'>Outfoxing Rabies<\/a><\/b>","<strong>Nelson Mandela African Institute of Science and Technology<\/strong><br/>Project: <b><a href='http://lauriebaker.rbind.io/courses/'>R Training<\/a><\/b>","<strong>National Institute of Statistics Rwanda<\/strong><br/>Project: <b><a href='http://lauriebaker.rbind.io/courses/'>R Training<\/a><\/b>","<strong>Caribbean National Statistical Offices<\/strong><br/>Project: <b><a href='http://lauriebaker.rbind.io/courses/'>R Training<\/a><\/b>","<strong>El Ministerio de Salud Pública y Bienestar Social y el Ministerio de Educación y Ciencias - Paraguay<\/strong><br/>Project: <b><a href='http://lauriebaker.rbind.io/courses/'>R Training<\/a><\/b>","<strong>Foreign Commonwealth Development Office<\/strong><br/>Project: <b><a href='http://lauriebaker.rbind.io/courses/'>R Training Courses<\/a><\/b>"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-33.0472,55.760869],"lng":[-76.8099,36.7968]}},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Figure 1: leaflet map
</p>
</div>
<div id="getting-the-leaflet-map-to-render-on-the-website" class="section level2">
<h2>Getting the leaflet map to render on the website</h2>
<p>After you’ve created the leaflet map, you’ll need to save the .html and include it as an iframe. To incorporate this into your website you’ll need to put it in the static folder that comes with the Hugo Academic theme. The first step is to specify the path.</p>
<pre class="r"><code>
widget_path &lt;- file.path(&quot;../../static/leaflet&quot;)

dir.create(widget_path)</code></pre>
<p>The next step is to use <code>htmlwidgets</code> and <code>htmltools</code> to create a widget using <code>save widget</code>.</p>
<pre class="r"><code>
saveWidget(work_map, file.path(widget_path,&quot;work_map.html&quot;))
</code></pre>
<p>When you save the map as a widget it creates the <code>work_map.html</code> file and also creates a folder with all the packages necessary to create the map. When you reference the map as an iframe you will want to reference it from within the “static” folder which contains images and other static features as below. You can specify the size here as well.</p>
<p><code>&lt;iframe seamless = "" width = "100%", height = "500" class="shortcode-iframe" src="/leaflet/work_map.html"&gt;&lt;/iframe&gt;</code></p>
</div>
<div id="wish-list" class="section level2">
<h2>Wish list</h2>
<p>Something that I’d like to change is that currently links are opened within the iframe rather than taking users to the relevant part of my website. This ends up creating a vortex of a website within the website. I’d like to change this and also to add an easy way for people to come back to the main map. Any suggestions, send me a DM:-).</p>
</div>
</div>
